# ===================================================================
# APPLICATION CONFIGURATION
# ===================================================================

# Environment: development | production | test
NODE_ENV=development

# Server port (default: 8000)
PORT=8000

# Server host (0.0.0.0 = listen on all interfaces)
HOST=0.0.0.0

# ===================================================================
# DATABASE CONFIGURATION (MySQL 8.0+)
# ===================================================================

# Database connection string
# Format: mysql://username:password@host:port/database
DATABASE_URL="mysql://root:rootpassword@localhost:{{MYSQL_PORT}}/{{DATABASE_NAME}}"

# Connection pool settings (for high-traffic production)
# Min connections: 2-5 for low traffic, 5-10 for medium, 10-20 for high
# Max connections: 10 for dev, 20-50 for production (10K-100K users/day)
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ===================================================================
# REDIS CONFIGURATION
# ===================================================================

# Redis connection URL
# Format: redis://[:password@]host:port[/database]
REDIS_URL="redis://localhost:{{REDIS_PORT}}"

# Max retry attempts for failed Redis operations
REDIS_MAX_RETRIES=3

# Connection timeout in milliseconds
REDIS_CONNECT_TIMEOUT=10000

# ===================================================================
# DOCKER PORTS (auto-generated, unique per project)
# ===================================================================

# Change these if they conflict with other services on your machine
MYSQL_PORT={{MYSQL_PORT}}
PHPMYADMIN_PORT={{PHPMYADMIN_PORT}}
REDIS_PORT={{REDIS_PORT}}
REDIS_COMMANDER_PORT={{REDIS_COMMANDER_PORT}}

# ===================================================================
# JWT AUTHENTICATION
# ===================================================================

# JWT secret key (MUST be at least 32 characters)
# CRITICAL: Generate a strong random secret for production!
# Example: openssl rand -base64 48
JWT_SECRET="{{JWT_SECRET}}"

# Access token expiry (short-lived)
# Format: 1s, 1m, 1h, 1d (default: 15m)
JWT_ACCESS_EXPIRY="15m"

# Refresh token expiry (long-lived)
# Format: 1s, 1m, 1h, 1d (default: 7d)
JWT_REFRESH_EXPIRY="7d"

# Cookie signing secret (separate from JWT for defense-in-depth)
# Optional: defaults to JWT_SECRET if not set
# For production: generate a separate secret: openssl rand -base64 48
# COOKIE_SECRET="change-this-to-a-different-secret-at-least-32-chars"

# ===================================================================
# CORS (Cross-Origin Resource Sharing)
# ===================================================================

# Allowed origins for CORS
# Development: Optional (allows all origins for easier local dev)
# Production: REQUIRED (must be your frontend URL for security)
# Multiple origins: Separate with commas
# Examples:
#   Single origin: CORS_ORIGIN="https://myapp.com"
#   Multiple origins: CORS_ORIGIN="https://myapp.com,https://app.myapp.com"
#   Local dev: CORS_ORIGIN="http://localhost:3001"
# CORS_ORIGIN="http://localhost:3001"

# ===================================================================
# LOGGING
# ===================================================================

# Log level: fatal | error | warn | info | debug | trace
# Production: info or warn (reduces noise)
# Development: debug (verbose logging)
# Staging: info
LOG_LEVEL=info

# ===================================================================
# ERROR TRACKING (Optional)
# ===================================================================

# Sentry DSN for error tracking and monitoring
# Get your DSN from: https://sentry.io/settings/projects/
# Leave empty to disable Sentry
# Example: SENTRY_DSN="https://examplePublicKey@o0.ingest.sentry.io/0"
# SENTRY_DSN=""
